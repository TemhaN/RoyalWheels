# üöó RoyalWheels API

**RoyalWheels** ‚Äî API –Ω–∞ **ASP.NET Core** –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∞—Ä–µ–Ω–¥—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–∞—Ç—å, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ—Ñ–∏–ª–µ–º, –æ—Ç–∑—ã–≤–∞–º–∏, –∏–∑–±—Ä–∞–Ω–Ω—ã–º, –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏ –ª–∏–∑–∏–Ω–≥–∞ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏.  
**–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏ –∏ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç **PostgreSQL**, **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –∏ **Swagger** –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ JWT
- üöò **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏**: –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–ø–æ –±—Ä–µ–Ω–¥—É, —Ü–µ–Ω–µ, –≥–æ–¥—É, —Å—Ç–∞—Ç—É—Å—É), —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- üìù **–û—Ç–∑—ã–≤—ã**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ (—Ä–µ–π—Ç–∏–Ω–≥ 1‚Äì5)
- ‚≠ê **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- üõí **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–∑–∏–Ω–≥**: –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –ª–∏–∑–∏–Ω–≥–∞
- üí∏ **–ü–ª–∞—Ç–µ–∂–∏**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä)
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ª–∏–∑–∏–Ω–≥—É, –ø–ª–∞—Ç–µ–∂–∞–º, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º –±—Ä–µ–Ω–¥–æ–≤, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üõ†Ô∏è **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏, –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏, –ø–ª–∞—Ç–µ–∂–∞–º–∏, –æ—Ç–∑—ã–≤–∞–º–∏
- üìö **Swagger UI**: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [.NET SDK 6.0+](https://dotnet.microsoft.com/en-us/download)
- PostgreSQL (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏)
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è Swagger UI (Chrome, Firefox, Edge)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É RoyalWheels (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω–æ)

## üß© –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ / –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                       |
|-------------------------------------------|--------------------------------------------------|
| `ASP.NET Core`                            | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API                       |
| `Entity Framework Core`                   | ORM –¥–ª—è PostgreSQL                               |
| `Npgsql.EntityFrameworkCore.PostgreSQL`   | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL                             |
| `Microsoft.AspNetCore.Authentication.JwtBearer` | JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è                        |
| `BCrypt.Net-Next`                         | –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π                              |
| `Swashbuckle.AspNetCore`                  | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —á–µ—Ä–µ–∑ Swagger                  |

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ ‚Äî –≤ `*.csproj` –∏ `appsettings.json`.


## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone https://github.com/yourusername/RoyalWheels.git
   cd RoyalWheels

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

   ```bash
   dotnet restore
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `appsettings.json`**

   ```json
   {
     "ConnectionStrings": {
       "DefaultConnection": "Host=localhost;Port=5432;Database=LeasyDb;Username=postgres;Password=your_password;Include Error Detail=true;"
     },
     "Jwt": {
       "Key": "YourVeryLongSecretKey1234567890123456",
       "Issuer": "YourIssuer",
       "Audience": "YourAudience"
     }
   }
   ```

   ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `Jwt:Key` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ –º–µ–Ω–µ–µ **32 —Å–∏–º–≤–æ–ª–æ–≤**.

4. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ EF Core**

   ```bash
   dotnet ef migrations add InitialCreate
   dotnet ef database update
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

   ```bash
   dotnet run
   ```

6. **Swagger UI**
   –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   [http://localhost:7247/swagger](http://localhost:7247/swagger)

7. **–†–µ–ª–∏–∑–Ω–∞—è —Å–±–æ—Ä–∫–∞**

   ```bash
   dotnet publish -c Release
   ```

   –°–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç –≤ `bin/Release/net6.0/publish`.
   

## üñ±Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

* –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `dotnet run`
* –û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI:
  [http://localhost:7247/swagger](http://localhost:7247/swagger)

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**

```
POST /api/Auth/register
```

```json
{
  "FullName": "–ò–º—è",
  "Email": "email@example.com",
  "PhoneNumber": "+123456789",
  "Password": "password"
}
```

**–í—Ö–æ–¥**

```
POST /api/Auth/login
```

```json
{
  "Email": "email@example.com",
  "Password": "password"
}
```

### üöò –†–∞–±–æ—Ç–∞ —Å –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏

**–ü–æ–∏—Å–∫**

```
GET /api/Cars/search?search=brand&minPrice=10000&maxYear=2023&status=Available
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ**

```
POST /api/Cars/compare
```

```json
{
  "CarIds": [1, 2, 3]
}
```

**–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**

```
POST /api/Reservations
```

```json
{
  "CarId": 1,
  "ReservationStart": "2025-07-20T00:00:00",
  "ReservationEnd": "2025-07-25T00:00:00"
}
```

**–õ–∏–∑–∏–Ω–≥**

```
POST /api/Lease
```

```json
{
  "CarId": 1,
  "LeaseStartDate": "2025-07-20T00:00:00",
  "LeaseEndDate": "2026-07-20T00:00:00"
}
```

---

### ‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –æ—Ç–∑—ã–≤—ã

**–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ**

```
POST /api/Cars/favorites/{carId}
```

**–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤**

```
POST /api/Cars/{id}/review
```

```json
{
  "Rating": 5,
  "Comment": "–û—Ç–ª–∏—á–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å!"
}
```

### üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

```
GET /api/Analytics
```

### üõ†Ô∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ä–æ–ª—å Admin)

* **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: `/api/Admin/users`
* **–ê–≤—Ç–æ–º–æ–±–∏–ª–∏**: `/api/Admin/cars`
* **–î–æ–≥–æ–≤–æ—Ä—ã –ª–∏–∑–∏–Ω–≥–∞**: `/api/Admin/lease-contracts`
* **–ü–ª–∞—Ç–µ–∂–∏**: `/api/Admin/payments`
* **–û—Ç–∑—ã–≤—ã**: `/api/Admin/reviews`

## üì¶ –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ–ª–∏–∑–Ω–∞—è —Å–±–æ—Ä–∫–∞**

```bash
dotnet publish -c Release
```

**–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `bin/Release/net6.0/publish` –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (Kestrel, Nginx, IIS).
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞.

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã

<div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
  <img src="https://github.com/TemhaN/RoyalWheels/blob/master/Screenshots/1.png?raw=true" alt="Service App" width="30%">
  <img src="https://github.com/TemhaN/RoyalWheels/blob/master/Screenshots/2.png?raw=true" alt="Service App" width="30%">
  <img src="https://github.com/TemhaN/RoyalWheels/blob/master/Screenshots/3.png?raw=true" alt="Service App" width="30%">
  <img src="https://github.com/TemhaN/RoyalWheels/blob/master/Screenshots/4.png?raw=true" alt="Service App" width="30%">
</div>  

## üß† –ê–≤—Ç–æ—Ä

**TemhaN**  
[GitHub –ø—Ä–æ—Ñ–∏–ª—å](https://github.com/TemhaN)

## üßæ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT License].

## üì¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ù–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ?
–°–æ–∑–¥–∞–π—Ç–µ **issue** –∏–ª–∏ –ø—Ä–∏—Å—ã–ª–∞–π—Ç–µ **pull request** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **ASP.NET Core** ‚Äî Backend –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
* **Entity Framework Core** ‚Äî –†–∞–±–æ—Ç–∞ —Å PostgreSQL
* **Npgsql** ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL
* **JWT** ‚Äî –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
* **BCrypt** ‚Äî –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
* **Swagger** ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
* **CORS** ‚Äî –ö—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
